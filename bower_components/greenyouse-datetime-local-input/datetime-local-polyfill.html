<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-a11y-keys/iron-a11y-keys.html">
<link rel="import" href="../iron-input/iron-input.html">



</head><body><dom-module id="datetime-local-polyfill">
  <template>

    <style>:host{display:block;}</style>

    <div id="datetime" class="container">

      
      <input is="iron-input" type="date" id="date" placeholder="mm/dd/yyyy" data-format="MM/dd/yyyy" style="text-align: center; max-width: 50%" required$="[[required]]" aria-label="date">
      ,

      

      <iron-a11y-keys id="hourKeys" target="[[hourTarget]]" keys="1 2 3 4 5 6 7 8 9 0" on-keys-pressed="setHour"></iron-a11y-keys>
      <input is="iron-input" id="hour" placeholder="-" maxlength="2" allowed-pattern="[0-9]" bind-value="{{hour::input}}" style="text-align: center; max-width: 10%" required$="[[required]]" aria-label="hour">
      :

      <iron-a11y-keys id="minuteKeys" target="[[minuteTarget]]" keys="1 2 3 4 5 6 7 8 9 0" on-keys-pressed="setMinute"></iron-a11y-keys>
      <input is="iron-input" id="minute" placeholder="-" maxlength="2" minlength="2" allowed-pattern="[0-9]" size="2" bind-value="{{minute::input}}" style="text-align: center; max-width: 10%" required$="[[required]]" aria-label="minute">

      <iron-a11y-keys id="periodKeys" target="[[periodTarget]]" keys="a p 1 2" on-keys-pressed="fillPeriod"></iron-a11y-keys>
      <input is="iron-input" id="period" placeholder="--" maxlength="2" allowed-pattern="[ampAMP]" size="2" bind-value="{{period::input}}" style="text-align: center; max-width: 15%; padding-left: 5px" required$="[[required]]" aria-label="am/pm">
    </div>
  </template>
</dom-module>
<script>!function(){"use-strict";Polymer({is:"datetime-local-polyfill",properties:{datetime:{type:String,notify:!0},date:{type:String,notify:!0},hour:{type:String,notify:!0},minute:{type:String,notify:!0},period:{type:String,notify:!0},hourBuffer:{type:String,value:""},minuteBuffer:{type:String,value:""},hourTarget:{type:Object,value:function(){return this.$.hour}},minuteTarget:{type:Object,value:function(){return this.$.minute}},periodTarget:{type:Object,value:function(){return this.$.period}}},listeners:{"date.change":"setDate"},observers:["setTime(datetime)","computeDateTime(date, hour, minute, period)"],fillPeriod:function(t){var e=t.detail.keyboardEvent.key;switch(e){case"a":this.period="am";break;case"1":this.period="am";break;case"2":this.period="pm";break;case"p":this.period="pm"}},_isValid:function(t,e){return"Invalid date"==t?"":t},setTime:function(){if(""!==this.datetime){var t=this.datetime;this.date=this._isValid(moment(t,"YYYY-MM-DDTHH:mm").format("YYYY-MM-DD")),this.hour=this._isValid(moment(t,"YYYY-MM-DDTHH:mm").format("hh")),this.minute=this._isValid(moment(t,"YYYY-MM-DDTHH:mm").format("mm")),this.period=this._isValid(moment(t,"YYYY-MM-DDTHH:mm").format("a")),this.$.date.value=this.date}},_formatHour:function(t){var e,i=this.$.minute,r=this.hourBuffer;return""==r&&t>1?(this.hourBuffer="",i.focus(),e="0"+t):""==r?(this.hourBuffer=t,e="0"+t):(this.hourBuffer="",i.focus(),e=r+t),e},_formatMinute:function(t){var e,i=this.$.period,r=this.minuteBuffer;return""==r&&10>t&&t>5?(this.minuteBuffer="",i.focus(),e="0"+t):""==r?(this.minuteBuffer=t,e="0"+t):(this.minuteBuffer="",i.focus(),e=r+t),e},setDate:function(t){this.date=t.target.value},setHour:function(t){hour=t.detail.combo,this.hour=this._formatHour(hour)},setMinute:function(t){input=t.detail.combo,this.minute=this._formatMinute(input)},computeDateTime:function(t,e,i,r){if(this.date&&this.hour&&this.minute&&this.period){var u=t+"T"+e+":"+i+r;this.datetime=moment(u,"YYYY-MM-DDTHH:mma").format("YYYY-MM-DDTHH:mm")}else this.datetime=""}})}();</script>



<script src="../better-dom/dist/better-dom.js"></script>
<script src="../better-i18n-plugin/dist/better-i18n-plugin.js"></script>
<script src="../better-time-element/dist/better-time-element.js"></script>
<script src="../better-emmet-plugin/dist/better-emmet-plugin.js"></script>
<script src="../better-dateinput-polyfill/dist/better-dateinput-polyfill.js"></script>
</body></html>