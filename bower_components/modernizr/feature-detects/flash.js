define(["Modernizr","createElement","docElement","addTest","getBody","isSVG"],function(e,n,o,i,t,a){e.addAsyncTest(function(){var e,c,d=function(e){o.contains(e)||o.appendChild(e)},l=function(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)},s=function(e,n){var o=!!e;if(o&&(o=new Boolean(o),o.blocked="blocked"===e),i("flash",function(){return o}),n&&f.contains(n)){for(;n.parentNode!==f;)n=n.parentNode;f.removeChild(n)}};try{c="ActiveXObject"in window&&"Pan"in new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}if(e=!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||c),e||a)s(!1);else{var r,p,h=n("embed"),f=t();if(h.type="application/x-shockwave-flash",f.appendChild(h),!("Pan"in h||c))return d(f),s("blocked",h),void l(f);r=function(){return d(f),o.contains(f)?(o.contains(h)?(p=h.style.cssText,""!==p?s("blocked",h):s(!0,h)):s("blocked"),void l(f)):(f=document.body||f,h=n("embed"),h.type="application/x-shockwave-flash",f.appendChild(h),setTimeout(r,1e3))},setTimeout(r,10)}})});